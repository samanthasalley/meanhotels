<div ng-if="vm.message" class="alert alert-success" role="alert">
    <p>{{ vm.message }}</p>
</div>
<div ng-if="vm.error" class="alert alert-danger" role="alert">
    <p>{{ vm.error }}</p>
</div>

<h1>{{ vm.username }}'s Profile</h1>

<button class="btn btn-warning" 
    ng-click="vm.showForm=true"
    ng-hide="vm.showForm">
    Change Password
</button>

<form  name="changePassword" 
    ng-show="vm.showForm" 
    ng-submit="vm.changePassword()">
    <div class="form-group">
        <label for="username">Username</label>
        <input type="username" class="form-control" id="username" placeholder="Username" ng-model="vm.username" autocapitalize="none" disabled/>
    </div>
    <div class="form-group">
        <label for="password">Current Password</label>
        <input type="password" class="form-control" id="password" placeholder="Current Password" ng-model="vm.currentPassword" autocapitalize="none" />
    </div>
    <div class="form-group">
        <label for="password">New Password</label>
        <input type="password" class="form-control" id="password" placeholder="New Password" ng-model="vm.newPassword" autocapitalize="none" />
    </div>
    <div class="form-group">
        <label for="password-repeat">Repeat New Password</label>
        <input type="password" class="form-control" id="password-repeat" placeholder="New Password" ng-model="vm.newPasswordRepeat" autocapitalize="none" />
    </div>
    <button type="submit" class="btn btn-success">Update</button>
    <a href="" class="btn btn-secondary"
        ng-click="vm.closeForm()">Cancel</a>
</form>